/* ================== THEME (usa variáveis da landing com fallback) ================== */
.formulario-dinamico {
  --fd-base: var(--cotalizer-base, #2D4254);
  --fd-primary: var(--cotalizer-primary, #18AF91);
  --fd-secondary: var(--cotalizer-secondary, #2C8ABB);

  --fd-text: rgba(255,255,255,0.92);
  --fd-text-dim: rgba(255,255,255,0.75);
  --fd-text-muted: rgba(255,255,255,0.6);

  --fd-panel: rgba(255,255,255,0.06);
  --fd-panel-strong: rgba(255,255,255,0.08);
  --fd-border: rgba(255,255,255,0.12);
  --fd-border-strong: rgba(255,255,255,0.2);

  --fd-shadow: 0 10px 24px rgba(0,0,0,0.35);
  --fd-radius-lg: 16px;
  --fd-radius-md: 12px;

  --fd-focus: 0 0 0 3px rgba(24,175,145,0.35);

  position: relative;
  color: var(--fd-text);
  background:
    radial-gradient(1200px 500px at 10% -10%, rgba(44,138,187,0.2) 0%, transparent 60%),
    radial-gradient(900px 600px at 110% 0%, rgba(24,175,145,0.2) 0%, transparent 60%),
    var(--fd-base);
  border-radius: 24px;
  padding: 24px;
  box-shadow: var(--fd-shadow);
  overflow: hidden;
}

/* header do formulário */
.fd-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 18px;
}
.fd-title h2 {
  margin: 6px 0 2px;
  font-size: 1.4rem;
  letter-spacing: -0.02em;
}
.fd-title p {
  margin: 0;
  color: var(--fd-text-muted);
  font-size: 0.95rem;
}
.fd-chip {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  background: linear-gradient(90deg, rgba(44,138,187,0.18), rgba(24,175,145,0.18));
  color: var(--fd-text-dim);
  border: 1px solid var(--fd-border);
  border-radius: 999px;
  padding: 6px 10px;
  font-size: .75rem;
}

/* cartões de conteúdo com efeito glass como na landing */
.glass-card {
  background: var(--fd-panel);
  border: 1px solid var(--fd-border);
  border-radius: var(--fd-radius-lg);
  padding: 16px;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}
.glass-subcard {
  background: var(--fd-panel-strong);
  border: 1px solid var(--fd-border);
  border-radius: var(--fd-radius-md);
  padding: 14px;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}
.glass-cta {
  background: linear-gradient(90deg,
              color-mix(in srgb, var(--fd-secondary) 22%, transparent),
              color-mix(in srgb, var(--fd-primary) 22%, transparent));
  border: 1px solid var(--fd-border);
  border-radius: var(--fd-radius-lg);
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
}

/* Títulos internos */
.formulario-dinamico h3 {
  color: var(--fd-text);
  font-size: 1.05rem;
  margin: 0 0 .6rem;
  font-weight: 600;
}
.formulario-dinamico h4 {
  color: var(--fd-text-dim);
  font-size: .95rem;
  margin: 0 0 .4rem;
  font-weight: 500;
}

/* Header dos itens */
.itens-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: .75rem;
  flex-wrap: wrap;
  margin-bottom: .25rem;
}

/* Botões alinhados com a landing */
.botao-primario,
.botao-adicionar,
.botao-remover {
  appearance: none;
  border: 1px solid var(--fd-border);
  border-radius: 12px;
  padding: .7rem 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, opacity .15s ease, background-color .15s ease;
  will-change: transform;
}

.botao-primario {
  background: var(--fd-primary);
  color: #0C2C25;
  border-color: color-mix(in srgb, var(--fd-primary) 40%, #000 0%);
}
.botao-primario:hover { opacity: .95; transform: translateY(-1px); }
.botao-primario:active { transform: translateY(0); }
.botao-primario:focus-visible { outline: none; box-shadow: var(--fd-focus); }

.botao-adicionar {
  background: color-mix(in srgb, var(--fd-secondary) 35%, transparent);
  color: var(--fd-text);
}
.botao-adicionar:hover { background: color-mix(in srgb, var(--fd-secondary) 50%, transparent); transform: translateY(-1px); }
.botao-adicionar:focus-visible { outline: none; box-shadow: 0 0 0 3px color-mix(in srgb, var(--fd-secondary) 55%, transparent); }

.botao-remover {
  background: color-mix(in srgb, #EF4444 35%, transparent);
  color: var(--fd-text);
}
.botao-remover:hover { background: color-mix(in srgb, #EF4444 52%, transparent); transform: translateY(-1px); }
.botao-remover:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(239,68,68,.4); }

/* Container itens */
.itens-orcamento { display: flex; flex-direction: column; gap: 1rem; }

/* Cada item */
.item-container { display: flex; flex-direction: column; gap: .8rem; }
.item-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: .5rem; }

/* Grid dos campos (desktop) */
.item-grid {
  display: grid;
  gap: 1rem;
  width: 100%;
  grid-template-columns: 2fr 1fr 1fr;
  grid-template-areas: "descricao quantidade valor";
  align-items: start;
}

/* Áreas */
.campo-descricao { grid-area: descricao; display: flex; flex-direction: column; gap: .5rem; min-width: 0; }
.campo-quantidade { grid-area: quantidade; display: flex; flex-direction: column; gap: .5rem; min-width: 0; }
.campo-valor { grid-area: valor; display: flex; flex-direction: column; gap: .5rem; min-width: 0; }

/* Textarea e inputs com estética da landing */
/* O InputPadrao deve renderizar um <input>; aqui estilizamos generico */
.formulario-dinamico input,
.formulario-dinamico textarea {
  width: 100%;
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--fd-border);
  color: var(--fd-text);
  border-radius: 10px;
  padding: .7rem .85rem;
  font-size: 0.98rem;
  outline: none;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
  transition: border-color .15s ease, box-shadow .15s ease, background-color .15s ease;
}
.formulario-dinamico input::placeholder,
.formulario-dinamico textarea::placeholder { color: var(--fd-text-muted); }
.formulario-dinamico input:focus,
.formulario-dinamico textarea:focus {
  border-color: color-mix(in srgb, var(--fd-primary) 50%, #fff 0%);
  box-shadow: var(--fd-focus);
  background: rgba(255,255,255,0.08);
}

/* Textarea altura & aparência */
.textarea-podruto {
  min-height: 2.6rem;
  max-height: 10rem;
  resize: vertical;
}

/* equal height nos inputs principais */
.campo-quantidade input,
.campo-valor input { height: 2.6rem; }

/* Subtotal do item */
.subtotal-item {
  display: flex;
  justify-content: flex-end;
  margin-top: .25rem;
  padding-top: .5rem;
  border-top: 1px dashed var(--fd-border);
}
.subtotal-item span { font-size: .9rem; color: var(--fd-text-muted); }

/* Separador */
.item-container hr {
  border: none;
  border-top: 1px solid var(--fd-border);
  margin: .5rem 0 0 0;
}

/* Total do orçamento com visual CTA */
.total-orcamento {
  display: flex;
  justify-content: flex-end;
  margin: 1rem 0;
  padding: 1rem;
  border-radius: var(--fd-radius-lg);
}
.detalhes-total { display: flex; flex-direction: column; gap: .45rem; min-width: 240px; }
.linha-total { display: flex; justify-content: space-between; align-items: center; color: var(--fd-text-dim); }
.linha-total strong, .linha-total h3 { color: var(--fd-text); margin: 0; }
.linha-total.desconto { color: #ffb4b4; }
.linha-total.total-final {
  border-top: 2px solid var(--fd-border-strong);
  padding-top: .6rem; margin-top: .3rem;
}
.total-orcamento h3 { font-size: 1.15rem; }

/* Botões (container) */
.botoes-forms-orcamento {
  display: flex; justify-content: center; gap: .8rem; margin-top: 1rem; flex-wrap: wrap;
}

/* Responsividade */
@media (max-width: 1024px) {
  .item-grid { grid-template-columns: 1.5fr 1fr 1fr; }
}
@media (max-width: 768px) {
  .item-grid {
    grid-template-columns: 1fr;
    grid-template-areas: "descricao" "quantidade" "valor";
    gap: .9rem;
  }
  .botoes-forms-orcamento { flex-direction: column; align-items: stretch; }
}
@media (max-width: 480px) {
  .formulario-dinamico { padding: 18px; border-radius: 18px; }
  .botao-primario, .botao-adicionar, .botao-remover { width: 100%; }
}

/* Acessibilidade */
@media (prefers-reduced-motion: reduce) {
  .botao-primario, .botao-adicionar, .botao-remover { transition: none; }
}

/* Print */
@media print {
  .formulario-dinamico {
    background: #fff !important;
    color: #111 !important;
    box-shadow: none;
    border: 1px solid #ccc;
  }
  .glass-card, .glass-subcard, .glass-cta {
    background: #fff !important;
    border: 1px solid #ddd !important;
    backdrop-filter: none;
  }
  .botao-primario, .botao-adicionar, .botao-remover, .botoes-forms-orcamento { display: none; }
}
